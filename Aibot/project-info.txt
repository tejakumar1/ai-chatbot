PS C:\Users\teja\Desktop\Aibot> 
$env:AZURE_OPENAI_API_KEY="726WoJruf3CtnvJbpF4YQarspGo2wvAWQv2dGc8J6Ihx4mPIKM2qJQQJ99BDACHYHv6XJ3w3AAAAACOGIsap"
$env:AZURE_OPENAI_ENDPOINT="https://jon-m900oi9e-eastus2.cognitiveservices.azure.com/"
$env:GPT_DEPLOYMENT_NAME="gpt-4o-mini"
$env:OPIK_API_KEY="BJEVL1PR8pwwEpvWwW5hCHnyv"
$env:OPIK_WORKSPACE_NAME="tejakumar1"
$env:OPIK_PROJECT_NAME="my-ai-app"
python -m streamlit run streamlit_app.py

AZURE_OPENAI_API_KEY = "726WoJruf3CtnvJbpF4YQarspGo2wvAWQv2dGc8J6Ihx4mPIKM2qJQQJ99BDACHYHv6XJ3w3AAAAACOGIsap"
AZURE_OPENAI_ENDPOINT = "https://jon-m900oi9e-eastus2.cognitiveservices.azure.com/"
AZURE_OPENAI_API_VERSION = "2025-01-01-preview"
GPT_DEPLOYMENT_NAME = "gpt-4o-mini"







```markdown
# ğŸ¤– AI Multi-Agent Dashboard (with Local Opik Tracing)

An interactive **AI Chat Dashboard** built using **Streamlit**, **Azure OpenAI**, and **Opik-style local tracing**.  
This project allows users to chat with an AI assistant, perform simple calculations, read files, and view **locally stored conversation traces** â€” all in one clean dashboard.

---

## ğŸš€ Features

- ğŸ§  **Real AI Responses** via Azure OpenAI (Chat Completions API)
- ğŸ’¾ **Local Trace Logging** using Opikâ€™s `@track` decorator
- ğŸ§® **Built-in Python Calculator**
- ğŸ“‚ **File Reader Utility**
- ğŸŒ **Automatic Device & Location Metadata**
- ğŸ“Š **Trace Dashboard** with filtering and search
- ğŸ§¾ **Downloadable JSON Logs** for all sessions

---

## ğŸ—ï¸ Project Structure

```

ai-chatbot/
â”‚
â”œâ”€â”€ aibot/
â”‚   â”œâ”€â”€ streamlit_app.py      # Main Streamlit app
â”‚   â”œâ”€â”€ example.txt           # Example file for file reading
â”‚   â””â”€â”€ local_traces.json     # Local trace data (auto-created)
â”‚
â”œâ”€â”€ .env                      # Environment variables (see below)
â”œâ”€â”€ requirements.txt          # Python dependencies
â””â”€â”€ README.md                 # Project documentation

````

---

## âš™ï¸ Prerequisites

Before running the app, make sure you have:

- Python **3.9+**
- Docker (if running local Opik UI)
- Azure OpenAI resource (with deployment name, endpoint, and API key)
- Internet connection

---

## ğŸ“¦ Installation Steps

### 1ï¸âƒ£ Clone the repository
```bash
git clone https://github.com/your-username/ai-chatbot.git
cd ai-chatbot/aibot
````

### 2ï¸âƒ£ Create and activate virtual environment

```bash
python -m venv venv
venv\Scripts\activate  # On Windows
# OR
source venv/bin/activate  # On macOS/Linux
```

### 3ï¸âƒ£ Install dependencies

```bash
pip install -r requirements.txt
```

Example `requirements.txt`:

```text
streamlit
python-dotenv
opik
openai
pandas
user-agents
requests
asteval
```

---

## ğŸ”‘ Configure Environment Variables

Create a `.env` file in the project root:

```env
AZURE_OPENAI_API_KEY=your_azure_api_key
AZURE_OPENAI_ENDPOINT=https://your-azure-endpoint.openai.azure.com/
AZURE_OPENAI_API_VERSION=2025-01-01-preview
GPT_DEPLOYMENT_NAME=gpt-4o-mini
```

---

## ğŸ§© How to Run the App

Start Streamlit:

```bash
streamlit run streamlit_app.py
```

Then open the URL displayed in the terminal (usually [http://localhost:8501](http://localhost:8501)).

---

## ğŸ’¬ How It Works

1. User enters a question in the chat input.
2. The app checks:

   * If the input contains â€œcalculateâ€ â†’ executes math expression.
   * If it contains â€œread fileâ€ â†’ reads from `example.txt`.
   * Otherwise â†’ sends to **Azure OpenAI** and returns real AI response.
3. Each conversation turn (user + AI) is tracked using **Opikâ€™s `@track` decorator**.
4. All data â€” messages, timestamps, metadata â€” are saved to **`local_traces.json`**.
5. A dashboard at the bottom displays all past traces with filters and search.
6. You can **download** all traces as a `.json` file for later analysis.

---

## ğŸ§  Opik Integration (Local Tracing)

* The app uses `configure(use_local=True)` to store traces locally.
* You can later import or view them through your **local Opik Docker dashboard** (default: [http://localhost:5173](http://localhost:5173)).

To run Opik locally:

```bash
docker run -d -p 5173:5173 cometml/opik
```

Then visit:
ğŸ‘‰ [http://localhost:5173](http://localhost:5173)

---

## ğŸ§° Example User Flow

| Input             | Output                            |
| ----------------- | --------------------------------- |
| `Calculate 5*4+3` | `Calculator Result: 23`           |
| `Read file`       | Displays content of `example.txt` |
| `What is AI?`     | AI response from Azure OpenAI     |
| `Show traces`     | Opens trace dashboard at bottom   |

---

## ğŸ“Š Local Trace Dashboard

The dashboard includes:

* Session ID filter
* Role filter (User / Assistant)
* Search bar for message text
* Expandable trace details
* Metadata (IP, device, location, timestamp)

Traces are saved automatically in:

```
aibot/local_traces.json
```

---

## ğŸ’¾ Downloading Traces

At the bottom of the Streamlit app:

* Click **â€œDownload Traces as JSONâ€**
* Saves all stored interactions as a single file

---

## ğŸ§‘â€ğŸ’» For Developers

* All AI calls use the **Azure OpenAI Python SDK** (`openai.chat.completions.create`)
* Supports multiple local agents (Calculator, File Reader, and AI Assistant)
* Easy to extend with new agent types (e.g., Image Generator, Translator, etc.)

---

## ğŸª„ Future Enhancements

* ğŸ”— Multi-agent coordination
* ğŸ§© Cloud Opik workspace integration
* ğŸ“ˆ Analytics charts for session performance
* ğŸ” Secure login for personal trace views

---

## ğŸ‘¨â€ğŸ’» Author

**Developed by:** Teja
**Project:** AI Multi-Agent Dashboard
**Platform:** Streamlit + Azure OpenAI + Opik
**Year:** 2025

---

## ğŸªª License

This project is open-source under the **MIT License**.
You can freely use, modify, and distribute it with attribution.
